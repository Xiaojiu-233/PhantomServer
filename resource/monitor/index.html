<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>欢迎来到Phantom可视化管理系统</title>
  <link rel="stylesheet" href="/monitor-service/css/styles.css"> <!-- 引用外部CSS文件 /monitor-service/css/table.css-->
  <script src="/monitor-service/js/base_request.js"></script> <!-- 引用外部JavaScript文件 -->
  <script src="/monitor-service/js/chart_script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <header>
    <h1>Phantom可视化管理系统</h1>
  </header>

  <div class="container">
    <nav>
      <ul id="navigate_bar">
        <!-- 添加其他功能按钮 -->
      </ul>
    </nav>

    <!-- 子页面 --> 
    <iframe id="IFrame" src="/monitor-service/WebMonitorPanel.html" width="100%" height="700px"></iframe>

    <!-- 程序执行 -->
    <script>
      function changeIFrame(panel){
        var iframe = document.getElementById("IFrame");
        iframe.src = "/monitor-service/" + panel + ".html";
      }
      var navi_bar = document.getElementById("navigate_bar");
      getData("/monitor-service/list",function(data){
        console.log(data);
        for(var i = 0; i < data.length; i++){
          navi_bar.innerHTML += 
           `<li><button class="nav-button" onclick="changeIFrame('${data[i].panelName}')">${data[i].panelTitle}</button></li>`;
        }
      });
    </script> 
  </div>

</body>
</html>
